@using SurveyApp.Models;
@{
    ViewBag.Title = "Parent/Teacher Information Editor";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model SurveyApp.Models.ParentTeacher

<h2><a href="javascript:void(0);" id="back" onclick="history.go(-1);"></a> &nbsp;Parent/Teacher Information Editor</h2>

<style>
    ._panel { background: #fafafa; border: solid 1px #cccccc; padding: 10px; border-radius: 6px; }
</style>
<br />

@using (Html.BeginForm("ParentTeacherAddEdit", "ParentTeacher", FormMethod.Post, new { @class = "form-horizontal" }))
{

            <div class="form-group">
        <label class="control-label col-sm-2" for="teacher">Study:</label>
        <div class="col-sm-10">
            <div class="checklist">
                @foreach (Study std in Study.StudyGetAll())
                {
                    <div><label><input type="checkbox" name="StudyId_@(std.Id)" value="@std.Id" /> @std.Name</label></div>
                }
                @*@Html.ListBoxFor(m => m.stds, new MultiSelectList(Study.StudyGetAll(), "Id", "Name"))*@
            </div>
            @Html.ActionLink("Add Study", "StudyAddEdit", "Study", new object { }, new { @class = "btn btn-link" }) 
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">Parent/Teacher Name</label>
        <div class="col-sm-4">            
            @Html.TextBoxFor(m => SurveyApp.Controllers.ParentTeacherController.RegisterModel.FullName, new { @class = "form-control", id = "parent", placeholder = "Parent/Teacher Name" })
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2" for="gender">Role:</label>
        <div class="col-sm-4">            
            <div class="radio-inline"><label>@Html.RadioButtonFor(m => m.Role, "1", new { name = "optradio", onclick = "$('.divSchool').hide();" })Parent</label></div>
            <div class="radio-inline"><label>@Html.RadioButtonFor(m => m.Role, "2", new { name = "optradio", onclick = "$('.divSchool').show();" })Teacher</label></div>
        </div>
    </div>
    <div class="form-group divSchool" style="display:none;">
        <label class="control-label col-sm-2" for="school">School:</label>
        <div class="col-sm-4">
            @Html.DropDownListFor(m => m.SchoolId, new SelectList(School.SchoolGetAll(), "SchoolId", "Name"), new { id = "school", @class = "form-control" })
            <a href="javascript:void(0);" class="btn btn-link" onclick="$('#addSchool').slideDown();">Add School</a>
        </div>    
        <div id="addSchool" class="_panel col-sm-12" style="display:none;">
        <div class="form-group">
            <label class="control-label col-sm-2">School Name</label>
            <div class="col-sm-4">
                @Html.HiddenFor(m => SurveyApp.Controllers.ParentTeacherController.SchoolModel.SchoolId, new { id = "SchoolId", value = Request.QueryString["ID"] })
                @Html.TextBoxFor(m => SurveyApp.Controllers.ParentTeacherController.SchoolModel.Name, null, new { id = "txtName", @class = "form-control", placeholder = "School Name" })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2"> </label>
            <div class="col-sm-offset-2 col-sm-4">
                <button type="submit" class="btn btn-default" style="display:none;">Add School</button>
                <button type="button" class="btn btn-default" onclick="$('#addSchool').slideUp();">Cancel</button>
            </div>
        </div>
    </div>
    </div>
    
    <div class="form-group">
        @Html.LabelFor(m => SurveyApp.Controllers.ParentTeacherController.RegisterModel.UserName, new { @class = "fcontrol-label col-sm-2" })
        <div class="col-sm-4">            
            @Html.TextBoxFor(m => SurveyApp.Controllers.ParentTeacherController.RegisterModel.UserName, new { id = "txtUserName", @class = "form-control", placeholder = "Email" })
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(m => SurveyApp.Controllers.ParentTeacherController.RegisterModel.Password, new { @class = "fcontrol-label col-sm-2" })
        <div class="col-sm-4">            
            @Html.PasswordFor(m => SurveyApp.Controllers.ParentTeacherController.RegisterModel.Password, new { id = "txtPassword", @class = "form-control", placeholder = "Password" })
        </div>
    </div>
    <div class="form-group ">
        @Html.LabelFor(m => SurveyApp.Controllers.ParentTeacherController.RegisterModel.ConfirmPassword, new { @class = "fcontrol-label col-sm-2" })
        <div class="col-sm-4">            
            @Html.PasswordFor(m => SurveyApp.Controllers.ParentTeacherController.RegisterModel.ConfirmPassword, new { id = "txtConfirmPassword", @class = "form-control", placeholder = "Confirm Password" })
        </div>
    </div>

  
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-4">
            <button type="submit" class="btn btn-default">Save Information</button>
        </div>
    </div>

}