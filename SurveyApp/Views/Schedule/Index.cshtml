@using System.Data;
@{
    ViewBag.Title = "Schedule Manager";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var dsSchedules = SurveyApp.DataHelper.ScheduleGetAll();
}


<h2 class="col-sm-11" style="margin: 0px;padding: 0px;">Schedule Management</h2>
<div class="col-sm-1">
    @Html.ActionLink("Add Schedule", "ScheduleAddEdit", "Schedule", new object { }, new { @class = "btn btn-default" })
</div>
<style>
    .table-hover tbody tr {
        cursor: pointer;
    }
</style>
<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Title</th>
            <th>Frequency</th>
            <th>Active On</th>
            <th>Available Untill</th>
            <th>Reminder Frequency</th>            
            <th>Last Reminder</th>
            <th>Action</th>
            <th style="width: 50px;">Action</th>
        </tr>
    </thead>
    <tbody>
        @if (dsSchedules != null && dsSchedules.Tables.Count > 0 && dsSchedules.Tables[0] != null && dsSchedules.Tables[0].Rows.Count > 0)
        {
            foreach (DataRow dr in dsSchedules.Tables[0].Rows)
            {
                <tr onclick="location.href = '@(Url.Action("ScheduleAddEdit", "Schedule") + "?id=" + dr["Id"].ToString())';">
                    <td>@dr["Name"]</td>
                    <td>@dr["dob"]</td>
                    <td>@dr["School"]</td>
                    <td>@dr["Parent"]</td>
                    <td>@dr["Teacher"]</td>
                    <td>@dr["Study"]</td>
                    <td class="text-success">@dr["StatusId"]</td>
                    <td style="text-align: center;vertical-align:middle;"><a href="javascript:void(0);" class="redCross" onclick="event.stopPropagation();deleteListItem(this, @dr["Id"], 'child', '@dr["Name"]');"></a></td>
                </tr>
            }
        }

    </tbody>
</table>